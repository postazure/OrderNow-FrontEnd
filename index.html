<!DOCTYPE html>
<html>
  <head>
    <title>DeliveryNowSF</title>
    <link rel="icon" type="image/png" href="src/images/icon.png">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"/>
    <link rel="stylesheet" href="bower_components/semantic-ui/dist/semantic.min.css">
    <link rel="stylesheet" href="src/stylesheets/main.css">
    <link rel="stylesheet" href="src/stylesheets/header.css">
    <link rel="stylesheet" href="src/stylesheets/restaurant-list.css">
    <link rel="stylesheet" href="src/stylesheets/search.css">
  </head>
  <body>

    <div id="main-container">
      <div id="header">
        <span id="gps-indicator" class="pull-right hidden"><i class="crosshairs icon"></i></span>
        <h1>
          Delivery Now SF
        </h1>

        <form id="search-form">
          <div class="ui icon input search" >
            <input class="prompt" type="text" placeholder="Name, or Keywords..." id="search-field">
            <i type="submit" class="search icon"></i>
          </div>
        </form>
      </div>

      <div id="search-container">
        <div id="restaurant-index" class="ui accordion"></div>
      </div>
    </div>


    <script id="restaurant-list" type="text/x-handlebars-template">
      {{#each restaurants}}
      <div class="restaurant" data-id={{id}} data-delivery-time={{delivery_time}} data-sourceurl={{source_url}}>
        <div class="title">
          <h4>
            <div class="truncate">
              {{name}}
            </div>
            <span class="ui small active inline loader pull-right"></span>

            <span class="ui pull-right hidden">
              <i class="clock icon"></i>
              <span class="delivery-time">{{delivery_time}}</span>
            </span>
          </h4>
        </div>
        <div class="ui segment content"></div>
      </div>
      {{/each}}
    </script>

    <script id="restaurant-details" type="text/x-handlebars-template">
      <div class="ui stackable grid">
        <div class="four wide column">
          <div class="logo">
            <img class="ui small rounded image" src={{restaurant.logo_url}}>
            <div class="divider"></div>
            <div class="ui purple button visit-source">View Menu</div>
            <div class="divider"></div>
            <div class="ui youtube button visit-yelp" data-yelpurl={{restaurant.yelp_url}}><i class="yelp icon"></i> Yelp</div>
          </div>
        </div>

        <div class="four wide column">
          <div class="ui list">
            <div class="item">
              <div class="header">Restaurant Name</div>
              {{restaurant.name}}
            </div>
            <div class="item">
              <div class="header">Phone</div>
              {{restaurant.phone_number}}
            </div>
            <div class="item">
              <div class="header">Delivery Service</div>
              {{restaurant.source_name}}
            </div>
            {{#if restaurant.tags}}
              <div class="item">
                <div class="header">Tags</div>
                <div class="ui divided horizontal list">
                  {{#each restaurant.tags}}
                  <div class="item">{{text}}</div>
                  {{/each}}
                </div>
              </div>
            {{/if}}
          </div>
        </div>
        <div class="eight wide column">
          {{#if restaurant.yelp_info.rating_image_url}}
            <div class="ui list">
              <div class="item">
                <div class="header">Yelp Rating</div>
                <img src={{restaurant.yelp_info.rating_image_url}} alt="" />
              </div>
              <div class="item">
                <div class="header">Reviewed</div>
                {{restaurant.yelp_info.review_count}} times
              </div>
              <div class="item">
                <div class="header">From Yelp</div>
                {{restaurant.yelp_info.snippet_text}}
              </div>
            </div>
          {{/if}}
        </div>
      </div>
    </script>

    <script src="bower_components/jQuery/dist/jquery.min.js"></script>
    <script src="bower_components/handlebars/handlebars.min.js"></script>
    <script src="bower_components/semantic-ui/dist/semantic.min.js"></script>
    <script src="src/controllers/search.js"></script>
    <script src="src/controllers/show.js"></script>
    <script src="src/controllers/application.js"></script>
    <script src="src/controllers/location.js"></script>
    <script src="src/adapters/restaurant.js"></script>
    <script src="src/adapters/order-ahead.js"></script>
    <script src="src/adapters/historic.js"></script>
    <script src="app.js"></script>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-61451619-1', 'auto');
      ga('send', 'pageview');

    </script>
  </body>
</html>
