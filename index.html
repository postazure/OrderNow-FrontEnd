<!DOCTYPE html>
<html>
  <head>
    <title>DeliveryNowSF</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="bower_components/semantic-ui/dist/semantic.min.css">
    <link rel="stylesheet" href="src/stylesheets/main.css">
  </head>
  <body>
    <div id="header" class="ui teal label">
      <h1>Delivery Now SF</h1>
      <form>
        <div class="ui icon input search" >
          <input class="prompt" type="text" placeholder="Name, or Keywords..." id="search-field">
          <i class="search icon"></i>
        </div>
      </form>
    </div>
    <div id="search-container">
      <div id="restaurant-index" class="ui accordion"></div>
    </div>

    <script id="restaurant-list" type="text/x-handlebars-template">
      {{#each restaurants}}
      <div class="restaurant" data-id={{id}} data-delivery-time={{delivery_time}}>
        <div class="title">
          <h4>
            <div class="truncate">
              {{name}}
            </div>
            <span class="ui small active inline loader pull-right"></span>

            <span class="ui pull-right hidden">
              <i class="clock icon"></i>
              <span class="delivery-time">{{delivery_time}}</span>
            </span>
          </h4>
        </div>
        <div class="content"></div>
      </div>
      {{/each}}
    </script>

    <script id="restaurant-details" type="text/x-handlebars-template">
      <div class="ui stackable grid">
        <div class="four wide column">
          <img class="ui avatar small image" src={{restaurant.logo_url}}>
        </div>

        <div class="four wide column">
          <div class="ui list">
            <div class="item">
              <div class="header">Restaurant Name</div>
              {{restaurant.name}}
            </div>
            <div class="item">
              <div class="header">Phone</div>
              {{restaurant.phone_number}}
            </div>
            <div class="item">
              <div class="header">Delivery Service</div>
              {{restaurant.source_name}}
            </div>
            {{#if restaurant.tags}}
              <div class="item">
                <div class="header">Tags</div>
                {{#each restaurant.tags}}
                  {{text}}
                {{/each}}
              </div>
            {{/if}}
          </div>
        </div>
        <div class="eight wide column">
          {{#if restaurant.yelp_info.rating_image_url}}
            <div class="ui list">
              <div class="item">
                <div class="header">Yelp Rating</div>
                <img src={{restaurant.yelp_info.rating_image_url}} alt="" />
              </div>
              <div class="item">
                <div class="header">Reviewed</div>
                {{restaurant.yelp_info.review_count}} times
              </div>
              <div class="item">
                <div class="header">From Yelp</div>
                {{restaurant.yelp_info.snippet_text}}
              </div>
            </div>
          {{/if}}
        </div>
      </div>
    </script>

    <script src="bower_components/jQuery/dist/jquery.min.js"></script>
    <script src="bower_components/handlebars/handlebars.min.js"></script>
    <script src="bower_components/semantic-ui/dist/semantic.min.js"></script>
    <script src="src/controllers/search.js"></script>
    <script src="src/controllers/show.js"></script>
    <script src="src/adapters/restaurant.js"></script>
    <script src="src/adapters/order-ahead.js"></script>
    <script src="src/scripts/location.js"></script>
    <script src="src/scripts/main.js"></script>
  </body>
</html>
